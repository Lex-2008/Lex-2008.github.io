<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="324px" preserveAspectRatio="none" style="width:456px;height:324px;background:#FFFFFF;" version="1.1" viewBox="0 0 456 324" width="456px" zoomAndPan="magnify"><defs><filter height="300%" id="f1v087ch9sdwow" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="223" cy="56.5659" fill="#000000" filter="url(#f1v087ch9sdwow)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1v087ch9sdwow)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="303" y="36.5659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="308.5" y="61.4126">nginx</text><rect fill="#FEFECE" filter="url(#f1v087ch9sdwow)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="61" x="130.5" y="153.5659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="135.5" y="178.4126">postfix</text><ellipse cx="115" cy="56.5659" filter="url(#f1v087ch9sdwow)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;fill:none;"/><ellipse cx="115.5" cy="57.0659" fill="#000000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1v087ch9sdwow)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="7" y="153.5659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="14" y="178.4126">dkim</text><rect fill="#FEFECE" filter="url(#f1v087ch9sdwow)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="69" x="209.5" y="270.5659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="214.5" y="295.4126">dovecot</text><rect fill="#FEFECE" filter="url(#f1v087ch9sdwow)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="93" x="261.5" y="153.5659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="266.5" y="178.4126">squirrelmail</text><rect fill="#FEFECE" filter="url(#f1v087ch9sdwow)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="53" x="389.5" y="153.5659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="394.5" y="178.4126">baikal</text><!--MD5=[27c3991972a4f6bd91780d661cb037fd]
link *start to nginx--><path d="M233.068,56.5659 C247.799,56.5659 275.843,56.5659 297.647,56.5659 " fill="none" id="*start-to-nginx" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="302.76,56.5659,293.76,52.5659,297.76,56.5659,293.76,60.5659,302.76,56.5659" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="251.5" y="19.6328">smtp</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="255" y="34.7656">http</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="251.5" y="49.8984">https</text><!--MD5=[624d6260d8d2c8e9bc70f4a746f5bce3]
link nginx to postfix--><path d="M302.941,63.7219 C277.564,70.8739 238.15,84.5889 210,106.5659 C195.346,118.0069 182.917,134.8949 174.244,148.7239 " fill="none" id="nginx-to-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="171.448,153.2839,179.5616,147.7009,174.0609,149.021,172.7409,143.5203,171.448,153.2839" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="211" y="119.6328">smtp+XCLIENT</text><!--MD5=[9ad78d9e685c8730be3f44dbe281e65c]
reverse link postfix1 to postfix--><path d="M111.023,71.5789 C107.865,85.3629 105.0249,106.7269 112,123.5659 C116.788,135.1249 125.773,145.3799 134.754,153.4819 " fill="none" id="postfix1-backto-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="112.275,66.5189,106.2315,74.2956,111.0748,71.3727,113.9976,76.216,112.275,66.5189" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="113" y="119.6328">smtp</text><!--MD5=[c70f6090e57325a8380c85284e334bd4]
reverse link dkim to postfix--><path d="M62.25,173.5659 C82.7805,173.5659 109.832,173.5659 130.43,173.5659 " fill="none" id="dkim-backto-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="57.1787,173.5659,66.1787,177.5659,62.1787,173.5659,66.1787,169.5659,57.1787,173.5659" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="75.25" y="166.6328">milter</text><!--MD5=[69c50acf091c3a2247127594012e5451]
link postfix to dovecot--><path d="M174.892,193.8139 C189.256,213.7159 211.695,244.8062 227.083,266.127 " fill="none" id="postfix-to-dovecot" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="230.062,270.2547,228.0384,260.616,227.1358,266.2004,221.5514,265.2979,230.062,270.2547" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="209" y="236.6328">lmtp</text><!--MD5=[191b4724f642aa285e484df8c510527c]
reverse link postfix to squirrelmail--><path d="M197.142,173.5659 C216.489,173.5659 240.541,173.5659 261.292,173.5659 " fill="none" id="postfix-backto-squirrelmail" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="191.816,173.5659,200.816,177.5659,196.816,173.5659,200.816,169.5659,191.816,173.5659" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="210" y="166.6328">smtp</text><!--MD5=[f30ec5bd61cb1487d4488bebd8879fc3]
link squirrelmail to dovecot--><path d="M297.288,193.8139 C286.258,213.633 269.054,244.5473 257.193,265.86 " fill="none" id="squirrelmail-to-dovecot" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="254.747,270.2547,262.6182,264.3349,257.178,265.8855,255.6274,260.4453,254.747,270.2547" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="280" y="236.6328">imap</text><!--MD5=[3bbcc11b9009efdee03c535b10513634]
link nginx to squirrelmail--><path d="M324.652,76.8139 C321.235,96.4669 315.919,127.0309 312.216,148.3229 " fill="none" id="nginx-to-squirrelmail" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="311.358,153.2549,316.8417,145.0739,312.2152,148.3289,308.9602,143.7024,311.358,153.2549" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="320" y="119.6328">http</text><!--MD5=[1fc4b39773a803e6ed30e14c7fdcd0dc]
link nginx to baikal--><path d="M342.729,76.8139 C357.958,96.7159 381.749,127.8059 398.064,149.1269 " fill="none" id="nginx-to-baikal" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="401.223,153.2549,398.931,143.6765,398.1847,149.2839,392.5773,148.5377,401.223,153.2549" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="378" y="119.6328">http</text><!--MD5=[4a33805f2786f79bc772b52902fc6f96]
@startuml
hide empty description

[*] -> nginx: smtp\nhttp\nhttps

state postfix
nginx - -> postfix: smtp+XCLIENT
state postfix1 <<end>>
postfix -u-> postfix1: smtp

state dkim
postfix -l-> dkim: milter

state dovecot
postfix - -> dovecot: lmtp

state squirrelmail
squirrelmail -l-> postfix: smtp
squirrelmail - -> dovecot: imap
nginx - -> squirrelmail: http

nginx - -> baikal: http
@enduml

PlantUML version 1.2021.7beta1(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>